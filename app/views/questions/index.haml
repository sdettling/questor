%h1
  Listing questions

- @questions.each do |question|
  = question.query
  = question.min_selections
  = question.max_selections
  = question.ranked
  = form_tag("/answers", :method => "post") do
    = hidden_field_tag "question_id", question.id
    - if question.ranked
      %ul#sortable1.droptrue
        - question.max_selections.times do
          %li
      %ul#sortable2.droptrue
        - question.question_options.each do |option|
          %li
            = label_tag option.id, option.description
    -else
      - question.question_options.each do |option|  
        - if question.min_selections == 1 && question.max_selections == 1
          = radio_button_tag "question_option_ids[]", option.id
        - else
          = check_box_tag "question_option_ids[]", option.id
        = label_tag option.id, option.description
    = submit_tag "Vote"
  /- question.question_options.each do |option|
  /  = check_box_tag "question_option_id", option.id
  /  = label_tag option.id, option.description

  /= render "answer_options_form", :question => question
  /= render :partial => 'answers/form', :locals => {:question => question}
  = link_to 'Show', question
  = link_to 'Edit', edit_question_path(question)
  = link_to 'Destroy', question, method: :delete, data: { confirm: 'Are you sure?' }

= link_to 'New Question', new_question_path